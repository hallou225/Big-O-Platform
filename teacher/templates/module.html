{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}
{% block css %}    
    <link rel="stylesheet" type="text/css" href="{% static '/css/module.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static '/css/teacher_sidebar.css'%}">
{% endblock %}

{% block javascript %}    
    <script src="{% static '/js/module.js'%}"></script>
{% endblock %}

{% block sidebar %}
    {% include 'teacher_sidebar.html' %}
{% endblock %}

{% block content %}
    <!-- Div for sidebar of page -->
    <div id="sidebar">

    </div>

    <!-- Div for main content of page -->
    <div id="mainContent">

        <!-- Div for main heading -->
        <div id="mainHeadingDiv">
            <!-- Main heading -->
            <h1 class="myH1" id="mainHeading">{{module.name}}</h1>
        </div>

        <!-- File upload form -->
        <form method="POST" action="" enctype="multipart/form-data">
            {% csrf_token %}
            <div id="uploadFormDiv">
                <div class="uploadSubDiv">
                    <h3>Upload an Algorithm</h3>
                    <input type="file" id="algorithmUpload" name="algorithmUpload">
                </div>
                <div class="uploadSubDiv">
                    <h3>Upload an Answer Key</h3>
                    <input type="file" id="answerkeyUpload" name="answerkeyUpload">
                </div>
                <input type="submit" id="uploadButton" value="Upload">
            </div>

        </form>

        <div id="algorithmAndAnswerkeyDiv">
            <div id="algorithmDiv">
                <h2>Algorithm Content:</h2>
                    {% for line in algorithm_file_lines %}
                    <pre>{{ line }}</pre>
                    {% endfor %}
            </div>

            <div id="answerkeyDiv">
                <h2>Answer Key Content:</h2>
                {% for line in answerkey_file_lines %}
                    <pre>{{ line.decode }}</pre>
                {% endfor %} 

            </div>
        </div>

<br>    
<br>    

<table style="border:1px; border-color:black">
    
    <col style="width: 4%;">
    <col style="width: 50%;">
    <col style="width: 46%;">

    <tr>
        <th id="tablenumber">No</th>
        <th id="tablecode">Code</th>
        <th id="tableanswer">Answer</th>
    </tr>

{% if algorithm_file_lines %}
    {% for code, answer in algorithm_file_lines|zip:answerkey_file_lines %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td><pre>{{ code }}</pre></td>
            <td> {{ answer.decode }}</td>
        </tr>
    {% endfor %}
{% endif %}
</table>

    </div>
{% endblock %}
